# This file is automatically generated by ruby-ll. Manually changing this file
# is not recommended as any changes will be lost the next time this parser is
# re-generated.
<%- if @add_requires -%>
require 'll/setup'
<%- end -%>

<%- @config.namespace.each do |part| -%>
module <%= part %>
<%- end -%>
<%- if @config.header -%>
<%= @config.header.strip -%>

<%- end -%>
class <%= @config.name -%> < LL::Driver
  CONFIG = LL::DriverConfig.new

  CONFIG.terminals = [
    <%- @config.terminals.each_with_index do |terminal, index| -%>
    <%= terminal.inspect -%>, # <%= index %>
    <%- end -%>
  ].freeze

  CONFIG.rules = [
    <%- @config.rules.each_with_index do |row, index| -%>
    <%= row.inspect -%>, # <%= index %>
    <%- end -%>
  ].freeze

  CONFIG.table = [
    <%- @config.table.each_with_index do |row, index| -%>
    <%= row.inspect -%>, # <%= index %>
    <%- end -%>
  ].freeze

  CONFIG.actions = [
    <%- @config.actions.each_with_index do |row, index| -%>
    <%= row.inspect -%>, # <%= index %>
    <%- end -%>
  ].freeze
<%= @config.inner.rstrip if @config.inner %>
  <%- @config.action_bodies.each do |name, body| -%>

  def <%= name %>(val)
    <%= body %>
  end
  <%- end -%>
end
<%- @config.namespace.each do |part| -%>
end
<%- end -%>
